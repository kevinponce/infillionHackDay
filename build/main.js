(()=>{"use strict";var e,t={243:(e,t,r)=>{var o=r(260),i=r.n(o);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return c(this,r)}}function c(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}(s,e);var t,r,o,i=l(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),i.call(this,"PreloadScene")}return t=s,(r=[{key:"preload",value:function(){this.load.spritesheet("redPlayer","assets/redPlayerSprite.png",{frameWidth:22,frameHeight:22}),this.load.spritesheet("bluePlayer","assets/bluePlayerSprite.png",{frameWidth:22,frameHeight:22}),this.load.spritesheet("greenPlayer","assets/greenPlayerSprite.png",{frameWidth:22,frameHeight:22}),this.load.spritesheet("purplePlayer","assets/purplePlayerSprite.png",{frameWidth:22,frameHeight:22}),this.load.spritesheet("orangePlayer","assets/orangePlayerSprite.png",{frameWidth:22,frameHeight:22}),this.load.spritesheet("yellowPlayer","assets/yellowPlayerSprite.png",{frameWidth:22,frameHeight:22}),this.load.spritesheet("enemy","assets/enemySprite.png",{frameWidth:22,frameHeight:22}),this.load.spritesheet("redParticle","assets/redParticle.png",{frameWidth:22,frameHeight:22}),this.load.spritesheet("blueParticle","assets/blueParticle.png",{frameWidth:22,frameHeight:22}),this.load.spritesheet("greenParticle","assets/greenParticle.png",{frameWidth:22,frameHeight:22}),this.load.spritesheet("purpleParticle","assets/purpleParticle.png",{frameWidth:22,frameHeight:22}),this.load.spritesheet("orangeParticle","assets/orangeParticle.png",{frameWidth:22,frameHeight:22}),this.load.spritesheet("yellowParticle","assets/yellowParticle.png",{frameWidth:22,frameHeight:22}),this.load.spritesheet("redBlockSprite","assets/redBlockSprite.png",{frameWidth:22,frameHeight:22}),this.load.image("boostPlatform","assets/boostPlatform.png"),this.load.image("frozenPlatform","assets/frozenPlatform.png"),this.load.image("longPlatform","assets/longPlatform.png"),this.load.image("mediumPlatform","assets/mediumPlatform.png"),this.load.image("smallPlatform","assets/smallPlatform.png"),this.load.image("spikePlatform","assets/spikePlatform.png"),this.load.image("finishPlatform","assets/finishPlatform.png"),this.load.atlas("fireworks","assets/fireworks.png","assets/fireworks.json")}},{key:"create",value:function(){this.scene.start("PlayScene")}},{key:"update",value:function(){}}])&&a(t.prototype,r),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),s}(i().Scene),u=r(213);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=k(e);if(t){var i=k(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return v(this,r)}}function v(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}Array.prototype.sample=function(){return this[Math.floor(Math.random()*this.length)]};var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(a,e);var t,r,o,s=g(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this,"PlayScene")).config=e,t.sprite=null,t.otherPlayers=null,t.enemies=null,t.platforms=null,t.frozenPlatforms=null,t.boostPlatforms=null,t.deathPlatforms=null,t.finishPlatforms=null,t.mystryBlock=null,t.keyLeft=null,t.keyRight=null,t.keyUp=null,t.keySpace=null,t.me={color:["red","blue","green","purple","orange","yellow"].sample(),frozen:!1,freezable:!0,boosted:!1,boostable:!0,emitter:null,dead:!1,dieable:!0,x:100,y:100,powerUp:null,onGround:!1},t.players={},t.map={title:"Test",platforms:[{type:"longPlatform",x:20,y:200,group:"platforms"},{type:"mediumPlatform",x:400,y:380,group:"platforms"},{type:"smallPlatform",x:700,y:90,group:"platforms"},{type:"boostPlatform",x:300,y:90,group:"boostPlatforms"},{type:"frozenPlatform",x:500,y:200,group:"frozenPlatforms"},{type:"redBlockSprite",x:500,y:100,group:"mystryBlock"},{type:"spikePlatform",x:700,y:400,group:"deathPlatforms"},{type:"spikePlatform",x:1e3,y:400,group:"deathPlatforms"},{type:"spikePlatform",x:1500,y:100,group:"deathPlatforms"},{type:"finishPlatform",x:1400,y:500,group:"finishPlatforms"}],enemies:[{x:100,y:100,range:[400,450]}]},t}return t=a,(r=[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this,t=this;this.createPlayer(),this.createPlatforms(),this.createControls(),this.otherPlayers=this.physics.add.group(),this.createColliders();var r=this.getLastPlatform(this.map.platforms).x+200;this.physics.world.setBounds(0,0,r,this.config.height),this.cameras.main.setBounds(0,0,r,this.config.height),this.cameras.main.startFollow(this.sprite),this.socket=(0,u.io)("http://localhost:8081/"),this.socket.on("connect",(function(t){e.me.id=e.socket.id,e.socket.emit("newPlayer",e.me)})),this.socket.on("currentPlayers",(function(e){Object.keys(e).forEach((function(r){var o=e[r];t.addNewPlayer(r,o)}))})),this.socket.on("newPlayer",(function(t){var r=t.socketId,o=t.player;e.addNewPlayer(r,o)})),this.socket.on("updatePlayer",(function(t){t.id!==e.socket.id&&e.addNewPlayer(t.id,t)})),this.socket.on("deletePlayer",(function(t){e.players[t]&&(e.players[t].sprite.destroy(),delete e.players[t])}))}},{key:"addNewPlayer",value:function(e,t){if(void 0===e)return!1;if(e!==this.socket.id)if(this.players[e])this.updateUser(e,t);else{var r=this.otherPlayers.create(t.x,t.y,"".concat(t.color,"Player")).setScale(3).setFlipX(!0);r.body.gravity.y=400,r.setCollideWorldBounds(!0),this.players[e]=d(d({},t),{},{sprite:r}),this.players[e].particles=this.add.particles("".concat(t.color,"Particle"))}}},{key:"updateUser",value:function(e,t){var r=this,o=this.players[e].sprite;o.setPosition(t.x,t.y),o.body.velocity.x=t.velocityX,o.body.velocity.y=t.velocityY,this.flip(o),t.frozen&&!o.isTinted?o.setTint(44783):!t.frozen&&o.isTinted&&o.clearTint(),t.dead&&o.visible?(o.visible=!1,this.players[e].emitter=this.players[e].particles.createEmitter({x:o.x,y:o.y,speed:100,scale:{start:1,end:0}}),this.players[e].emitterTimer=this.time.addEvent({delay:2e3,callback:function(){r.players[e].emitter.remove(),r.players[e].emitter=null,r.players[e].emitterTimer.remove(),r.players[e].emitterTimer=null},loop:!1,repeat:0})):t.dead||o.visible||(o.visible=!0)}},{key:"update",value:function(){this.updateControls(),this.checkStatus(),this.me.x=this.sprite.x,this.me.y=this.sprite.y,this.me.velocityX=this.sprite.body.velocity.x,this.me.velocityY=this.sprite.body.velocity.y,this.socket.emit("updatePlayer",this.me)}},{key:"createPlayer",value:function(){var e=this;this.sprite=this.physics.add.sprite(this.me.x,this.me.y,"".concat(this.me.color,"Player")).setScale(3).setFlipX(!0),this.sprite.body.gravity.y=400,this.sprite.setCollideWorldBounds(!0);var t="".concat(this.me.color,"Player");this.anims.create({key:"blink",frames:[0,1,2,3,4,0].map((function(e){return{frame:e,key:t}})),frameRate:12,repeat:0}),this.time.addEvent({delay:5e3,callback:function(){e.sprite.play("blink")},loop:!0}),this.me.particles=this.add.particles("".concat(this.me.color,"Particle"))}},{key:"createPlatforms",value:function(){var e=this;this.platforms=this.physics.add.group(),this.frozenPlatforms=this.physics.add.group(),this.boostPlatforms=this.physics.add.group(),this.deathPlatforms=this.physics.add.group(),this.mystryPlatforms=this.physics.add.group(),this.finishPlatforms=this.physics.add.group(),this.map.platforms.forEach((function(t){var r=null;"platforms"===t.group?r=e.platforms:"frozenPlatforms"===t.group?r=e.frozenPlatforms:"boostPlatforms"===t.group?r=e.boostPlatforms:"deathPlatforms"===t.group?r=e.deathPlatforms:"mystryBlock"===t.group?r=e.mystryPlatforms:"finishPlatforms"===t.group&&(r=e.finishPlatforms),r&&r.create(t.x,t.y,t.type).setOrigin(0,0).setScale(3).setImmovable(!0)}))}},{key:"createEnemies",value:function(){var e=this;this.enemies=this.physics.add.group(),this.map.enemies.forEach((function(t){var r=e.enemies.create(t.x,t.y,"enemy").setOrigin(0,0).setScale(3).setImmovable(!0);r.body.gravity.y=400,r.setCollideWorldBounds(!0)}))}},{key:"getLastPlatform",value:function(e){var t=e[0];return e.forEach((function(e){e.x>t.x&&(t=e)})),t}},{key:"createControls",value:function(){this.keyLeft=this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes.LEFT),this.keyRight=this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes.RIGHT),this.keyUp=this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes.UP),this.keySpace=this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes.SPACE)}},{key:"createColliders",value:function(){var e=this;this.physics.add.collider(this.sprite,this.platforms),this.physics.add.collider(this.sprite,this.frozenPlatforms,(function(t){!e.me.frozen&&e.me.freezable&&(t.setTint(44783),e.me.frozen=!0,t.body.velocity.x=0,e.me.freezable=!1,e.frozenTimer||(e.frozenTimer=e.time.addEvent({delay:3e3,callback:function(){e.me.frozen=!1,t.clearTint()},loop:!1,repeat:0}),e.time.addEvent({delay:5e3,callback:function(){e.me.freezable=!0,e.frozenTimer=null},loop:!1,repeat:0})))}),null,!0),this.physics.add.collider(this.sprite,this.boostPlatforms,(function(t){!e.me.boosted&&e.me.boostable&&(e.me.boosted=!0,t.body.velocity.x=2*t.body.velocity.x,e.boostedTimer||(e.boostedTimer=e.time.addEvent({delay:3e3,callback:function(){e.me.boosted=!1,e.boostedTimer=null},loop:!1,repeat:0})))}),null,!0),this.physics.add.collider(this.sprite,this.deathPlatforms,(function(t){e.die(t)}),null,this),this.physics.add.collider(this.sprite,this.finishPlatforms,(function(t){e.fireworks(t),e.me.dieable=!1}),null,this),this.physics.add.collider(this.sprite,this.mystryPlatforms,(function(t,r){e.me.powerUp="fireball";var o=e.add.particles("".concat(e.me.color,"Particle")).createEmitter({x:r.x+r.getBounds().width/2,y:r.y+r.getBounds().height/2,speed:100,scale:{start:1,end:0}});r.destroy(),e.time.addEvent({delay:500,callback:function(){o.remove()},loop:!1,repeat:0})}),null,this),this.physics.add.collider(this.otherPlayers,this.platforms),this.physics.add.collider(this.otherPlayers,this.frozenPlatforms),this.physics.add.collider(this.otherPlayers,this.boostPlatforms),this.physics.add.collider(this.otherPlayers,this.deathPlatforms),this.physics.add.collider(this.otherPlayers,this.finishPlatforms)}},{key:"die",value:function(e){var t=this;this.me.emitter||this.me.dead||!this.me.dieable||(this.me.dead=!0,this.sprite.visible=!1,this.me.emitter=this.me.particles.createEmitter({x:e.x,y:e.y,speed:100,scale:{start:1,end:0}}),this.me.emitterTimer=this.time.addEvent({delay:2e3,callback:function(){t.me.emitter.remove(),t.me.emitter=null,t.me.emitterTimer.remove(),t.me.emitterTimer=null,t.sprite.body.velocity.x=0,t.sprite.body.velocity.y=0,t.sprite.setPosition(100,100),t.sprite.visible=!0,t.me.dead=!1},loop:!1,repeat:0}))}},{key:"fireworks",value:function(e){var t=this;if(!this.fireWorksPartical){this.fireWorksPartical=this.add.particles("fireworks");var r=e.getBounds();r.width,r.height,["red","blue","green","orange","purple","yellow"].forEach((function(r){t.fireWorksPartical.createEmitter({frame:"".concat(r,"Particle"),x:e.x,y:e.y,speed:200,lifespan:1e3})}))}}},{key:"updateControls",value:function(){if(this.me.dead)return!1;!this.me.onGround&&this.sprite.body.deltaY()>0&&this.sprite.body.onFloor()&&(this.me.onGround=!0);var e=0,t=this.me.boosted?800:400;this.me.frozen||(this.keyLeft.isDown?e=-t:this.keyRight.isDown&&(e=t),this.keySpace.isDown&&this.me.onGround&&(this.me.onGround=!1,this.sprite.body.velocity.y=-400)),this.sprite.body.velocity.x=e}},{key:"checkStatus",value:function(){this.flip(this.sprite),this.sprite.getBounds().bottom>=this.config.height&&this.die(this.sprite)}},{key:"flip",value:function(e){e.body.velocity.x>0&&e.flipX?e.setFlipX(!1):e.body.velocity.x<0&&!e.flipX&&e.setFlipX(!0)}}])&&b(t.prototype,r),o&&b(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(i().Scene);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E,T=[p,O],z={width:800,height:600},C=S(S({type:i().AUTO},z),{},{backgroundColor:"#ffffff",physics:{default:"arcade",arcade:{debug:!0}},scene:(E=T.map((function(e){return new e(z)})),function(e){if(Array.isArray(e))return w(e)}(E)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(E)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())});new(i().Game)(C)}},r={};function o(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}};return t[e].call(s.exports,s,s.exports,o),s.exports}o.m=t,e=[],o.O=(t,r,i,s)=>{if(!r){var a=1/0;for(f=0;f<e.length;f++){for(var[r,i,s]=e[f],n=!0,l=0;l<r.length;l++)(!1&s||a>=s)&&Object.keys(o.O).every((e=>o.O[e](r[l])))?r.splice(l--,1):(n=!1,s<a&&(a=s));if(n){e.splice(f--,1);var c=i();void 0!==c&&(t=c)}}return t}s=s||0;for(var f=e.length;f>0&&e[f-1][2]>s;f--)e[f]=e[f-1];e[f]=[r,i,s]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var i,s,[a,n,l]=r,c=0;if(a.some((t=>0!==e[t]))){for(i in n)o.o(n,i)&&(o.m[i]=n[i]);if(l)var f=l(o)}for(t&&t(r);c<a.length;c++)s=a[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(f)},r=self.webpackChunkinfillionhackday=self.webpackChunkinfillionhackday||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i=o.O(void 0,[736],(()=>o(243)));i=o.O(i)})();